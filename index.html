<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>SandJS by SkPhilipp</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>SandJS</h1>
          <h2></h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/SkPhilipp/SandJS/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/SkPhilipp/SandJS/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/SkPhilipp/SandJS" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="sandjs" class="anchor" href="#sandjs"><span class="octicon octicon-link"></span></a>SandJS</h1>

<p>JavaScript Sandboxing.</p>

<p>SandJS allows communication between two windows, an iframe host and a child iframe. This allows for safe Sandboxing of JavaScript.</p>

<h2>
<a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h2>

<p>Requirements: Two domains. For example, <a href="http://hileco.com">hileco.com</a> ("Host Domain") and sandbox.hileco.com ("Sandbox Domain"). The sandbox domain must be solely dedicated to executing potentially unsafe JavaScript ("Code"). To be even more safe, you should use two separate domains, do not use subdomains if you do not have full control over cookies.</p>

<p>Sandboxing allows you to execute code in the sandbox domain, without it being able to harm the host domain. The host domain connects to the sandbox domain via SandJS, and can then send code across for the sandbox domain to interpret and or execute.</p>

<p>In the following sample a sandbox frame is loaded, a message is sent to it, along with a callback reference. SandJS enables you to create cross-window callbacks, note that you can not send function references or anything else other than plain serializable objects through, so keep that in mind when designing callbacks. The following example lets the sandbox evaluate the expression "2 + 2", the result of the expression is sent back to the host via the cross-window callback.</p>

<p>Host</p>

<pre><code>require(["sand"], function(sandBox){
    var box = new sandBox();
    box.loadFrame("http://sandbox.localhost:8000", "http://sandbox.localhost:8000/sample-sandbox.html");
    box.sendCallback("evaluate", "2 + 2", function(result){
        console.log(result);
    }, true);
});
</code></pre>

<p>Sandbox</p>

<pre><code>require(["sand"], function(sandBox){
    var box = new sandBox();
    box.addListener("evaluate", function(data, callback){
        callback(eval(data));
    });
    box.loadParent("http://localhost:8000");
});
</code></pre>

<p>SandJS will take care of waiting for the sandbox window to load, sending any queued messages, etc.</p>
        </section>

        <footer>
          SandJS is maintained by <a href="https://github.com/SkPhilipp">SkPhilipp</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>